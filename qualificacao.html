<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Gerador de Texto Jur√≠dico</title>
  <link rel="stylesheet" href="qualificacao.css" />
</head>

<body class="body-flex-col">

<nav class="navbar">
  <div class="container navbar-content">
    <button id="btnBack" class="btn-back" onclick="navigateTo('index.html')">‚Üê Voltar</button>

    <div class="nav-links">
      <div onclick="navigateTo('qualificacao.html')" class="nav-item">
        <span>üìÑ</span> Qualifica√ß√£o
      </div>
      <div onclick="navigateTo('ocr.html')" class="nav-item">
        <span>üìö</span> Leitura de Docs
      </div>
    </div>

    <!-- Bot√£o para mostrar/ocultar op√ß√µes -->
    <button id="btnToggleNavButtons" class="btn-toggle" aria-expanded="false" aria-controls="navButtons">
      ‚ò∞ Menu
    </button>

    <div class="nav-buttons" id="navButtons" style="display:none;">
      <a href="pessoapj.html">
        <button class="btn-teal"> Pessoa Jur√≠dica</button>
      </a>
      <a href="certidoes.html">
        <button class="btn-teal"> Certid√µes</button>
      </a>
    </div>
  </div>
</nav>

    

    <!-- Formul√°rio principal -->
    <div class="form-wrapper">
      <h1 class="title">Gerador de Texto Jur√≠dico</h1>

      <form id="textGeneratorForm" class="form-spacing">
        <!-- Papel -->
        <div class="form-group">
          <label for="role" class="label">Selecione o Papel:</label>
          <select id="role" class="input-select">
            <option value="vendedor">Vendedor</option>
            <option value="comprador">Comprador</option>
            <option value="fiador">Fiador</option>
          </select>
        </div>

        <div id="questions" class="margin-top-4"></div>

        <!-- Campos principais -->
        <div class="form-group">
          <label for="name" class="label">Nome:</label>
          <input type="text" id="name" class="input-text" placeholder="Digite seu nome" />
        </div>

        <div class="form-group">
          <label for="nationality" class="label">Nacionalidade:</label>
          <input type="text" id="nationality" class="input-text" placeholder="Digite sua nacionalidade" />
        </div>

        <div class="form-group">
          <label for="profession" class="label">Profiss√£o:</label>
          <input type="text" id="profession" class="input-text" placeholder="Digite sua profiss√£o" />
        </div>

        <div class="form-group">
          <label for="maritalStatus" class="label">Estado Civil:</label>
          <select id="maritalStatus" class="input-select" onchange="toggleSpouseFields()">
            <option value="">Selecione o estado civil</option>
            <option value="casado(a)">Casado(a)</option>
            <option value="solteiro(a)">Solteiro(a)</option>
            <option value="divorciado(a)">Divorciado(a)</option>
            <option value="vi√∫vo(a)">Vi√∫vo(a)</option>
          </select>
        </div>

        <!-- Informa√ß√µes do c√¥njuge -->
        <div id="spouseFields" class="spouse-fields" style="display:none;">
          <h3 class="sub-title">Informa√ß√µes do C√¥njuge</h3>
          <input type="text" id="spouseName" class="input-text" placeholder="Nome do c√¥njuge" />
          <input type="text" id="spouseNationality" class="input-text" placeholder="Nacionalidade do c√¥njuge" />
          <input type="text" id="spouseProfession" class="input-text" placeholder="Profiss√£o do c√¥njuge" />
          <input type="text" id="spouseRg" class="input-text" placeholder="RG do c√¥njuge" />
          <input type="text" id="spouseCpf" class="input-text" placeholder="CPF do c√¥njuge" />
          <input type="text" id="spouseFiliation" class="input-text" placeholder="Fili√ß√£o do c√¥njuge" />
          <input type="text" id="spouseEmail" class="input-text" placeholder="E-mail do c√¥njuge" />
          <input type="text" id="spousePhone" class="input-text" placeholder="Telefone do c√¥njuge" />
          <input type="text" id="spouseBirthdate" class="input-text" placeholder="Data de nascimento do c√¥njuge" />
          <input type="text" id="spousemarriageregime" class="input-text" placeholder="Regime de casamento" />
          <input type="text" id="spousemarriagedate" class="input-text" placeholder="Data de casamento" />
        </div>

        <!-- Continue com os outros campos, com classes "form-group", "label" e "input-text" -->

        <div class="form-group">
          <label for="rg" class="label">N√∫mero do RG:</label>
          <input type="text" id="rg" class="input-text" placeholder="Digite o n√∫mero do RG" />
        </div>

        <div class="form-group">
          <label for="cpf" class="label">N√∫mero do CPF:</label>
          <input type="text" id="cpf" class="input-text" placeholder="Digite o n√∫mero do CPF" />
        </div>

        <div class="form-group">
          <label for="filiation" class="label">Filia√ß√£o:</label>
          <input type="text" id="filiation" class="input-text" placeholder="Digite a filia√ß√£o" />
        </div>

        <div class="form-group">
          <label for="email" class="label">E-mail:</label>
          <input type="email" id="email" class="input-text" placeholder="Digite seu e-mail" />
        </div>

        <div class="form-group">
          <label for="phone" class="label">Telefone:</label>
          <input type="text" id="phone" class="input-text" placeholder="Digite seu telefone" />
        </div>

        <div class="form-group">
          <label for="birthdate" class="label">Data de Nascimento:</label>
          <input type="text" id="birthdate" class="input-text" placeholder="Digite a data de nascimento" />
        </div>

        <div class="form-group">
          <label for="marriedborn" class="label">Casamento ou Nascimento:</label>
          <input type="text" id="marriedborn" class="input-text" placeholder="Digite a certid√£o conforme o estado civil" />
        </div>

        <div class="form-group">
          <label for="certificate" class="label">N√∫mero de Matr√≠cula:</label>
          <input type="text" id="certificate" class="input-text" placeholder="Digite o n√∫mero da matr√≠cula" />
        </div>

        <div class="form-group">
          <label for="registryOffice" class="label">Oficial de Registro:</label>
          <input type="text" id="registryOffice" class="input-text" placeholder="Digite o oficial de registro" />
        </div>

          <div class="form-group">
          <label for="cep" class="label">CEP:</label>
          <input type="text" id="cep" class="input-text" placeholder="Digite o n√∫mero do CEP" />
        </div>

        <div class="form-group">
          <label for="city" class="label">Cidade:</label>
          <input type="text" id="city" class="input-text" placeholder="Digite o nome da cidade" />
        </div>

        <div class="form-group">
          <label for="state" class="label">Estado:</label>
          <input type="text" id="state" class="input-text" placeholder="Digite o nome do estado" />
        </div>

        <div class="form-group">
          <label for="street" class="label">Rua/Avenida:</label>
          <input type="text" id="street" class="input-text" placeholder="Digite o nome da rua ou avenida" />
        </div>

        <div class="form-group">
          <label for="houseNumber" class="label">N√∫mero da Casa:</label>
          <input type="text" id="houseNumber" class="input-text" placeholder="Digite o n√∫mero da casa" />
        </div>

        <div class="form-group">
          <label for="neighborhood" class="label">Bairro:</label>
          <input type="text" id="neighborhood" class="input-text" placeholder="Digite o bairro" />
        </div>

      

        <button type="button" onclick="generateText()" class="btn-submit">
          <svg xmlns="http://www.w3.org/2000/svg" class="btn-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3" />
          </svg>
          <span>Gerar Texto</span>
        </button>
      </form>

      <div id="generatedText" class="generated-text">
        <h2 class="generated-text-title">Texto Gerado:</h2>
        <div id="output"></div>
      </div>
    </div>
  </div>

  <script src="qualificacao.js"></script>
<script>
  function navigateTo(page) {
  window.location.href = page;
}

// Alternar visibilidade dos bot√µes de navega√ß√£o
const btnToggle = document.getElementById('btnToggleNavButtons');
const navButtons = document.getElementById('navButtons');

if (btnToggle && navButtons) {
  btnToggle.addEventListener('click', () => {
    const isHidden = navButtons.style.display === 'none' || navButtons.style.display === '';
    navButtons.style.display = isHidden ? 'flex' : 'none';
    btnToggle.setAttribute('aria-expanded', isHidden);
  });
}

// Valida√ß√£o antes de gerar texto
const btnGerarTexto = document.getElementById('btnGerarTexto');
if (btnGerarTexto) {
  btnGerarTexto.addEventListener('click', () => {
    const campos = document.querySelectorAll('.input-text, .input-select');
    let valido = true;

    campos.forEach(campo => {
      if (!campo.value.trim()) {
        campo.style.borderColor = 'red';
        valido = false;
      } else {
        campo.style.borderColor = '';
      }
    });

    if (!valido) {
      alert('Preencha todos os campos obrigat√≥rios antes de gerar o texto.');
      return;
    }

    // Se todos estiverem preenchidos, executar a fun√ß√£o de gerar texto
    gerarTexto(); // substitua pelo nome da sua fun√ß√£o
  });
}

// Mapeamento de UF para nome completo do estado
const estados = {
  "AC": "Acre",
  "AL": "Alagoas",
  "AP": "Amap√°",
  "AM": "Amazonas",
  "BA": "Bahia",
  "CE": "Cear√°",
  "DF": "Distrito Federal",
  "ES": "Esp√≠rito Santo",
  "GO": "Goi√°s",
  "MA": "Maranh√£o",
  "MT": "Mato Grosso",
  "MS": "Mato Grosso do Sul",
  "MG": "Minas Gerais",
  "PA": "Par√°",
  "PB": "Para√≠ba",
  "PR": "Paran√°",
  "PE": "Pernambuco",
  "PI": "Piau√≠",
  "RJ": "Rio de Janeiro",
  "RN": "Rio Grande do Norte",
  "RS": "Rio Grande do Sul",
  "RO": "Rond√¥nia",
  "RR": "Roraima",
  "SC": "Santa Catarina",
  "SP": "S√£o Paulo",
  "SE": "Sergipe",
  "TO": "Tocantins"
};

// Preencher automaticamente os campos de endere√ßo com base no CEP
const cepInput = document.getElementById('cep');
if (cepInput) {
  cepInput.addEventListener('blur', async function () {
    const cep = this.value.replace(/\D/g, '');

    if (cep.length !== 8) {
      alert('CEP inv√°lido. Deve conter 8 d√≠gitos.');
      return;
    }

    try {
      const response = await fetch(`https://viacep.com.br/ws/${cep}/json/`);
      const data = await response.json();

      if (data.erro) {
        alert('CEP n√£o encontrado.');
        return;
      }

      document.getElementById('street').value = data.logradouro || '';
      document.getElementById('neighborhood').value = data.bairro || '';
      document.getElementById('city').value = data.localidade || '';
      document.getElementById('state').value = estados[data.uf] || data.uf || '';

    } catch (error) {
      console.error('Erro ao buscar o CEP:', error);
      alert('Erro ao buscar o CEP. Tente novamente.');
    }
  });
}
// Fun√ß√£o para formatar CPF
function formatCpf(value) {
  let v = value.replace(/\D/g, '').slice(0, 11);
  v = v.replace(/(\d{3})(\d)/, '$1.$2');
  v = v.replace(/(\d{3})(\d)/, '$1.$2');
  v = v.replace(/(\d{3})(\d{1,2})$/, '$1-$2');
  return v;
}

// Fun√ß√£o para formatar telefone
function formatPhone(value) {
  let v = value.replace(/\D/g, '').slice(0, 11);

  if (v.length > 6) {
    v = v.replace(/^(\d{2})(\d{5})(\d{0,4}).*/, '($1) $2-$3');
  } else if (v.length > 2) {
    v = v.replace(/^(\d{2})(\d{0,5})/, '($1) $2');
  } else if (v.length > 0) {
    v = v.replace(/^(\d{0,2})/, '($1');
  }
  return v;
}

// Aplica formata√ß√£o nos inputs de CPF
['cpf', 'spouseCpf'].forEach(id => {
  const input = document.getElementById(id);
  if (input) {
    input.addEventListener('input', () => {
      input.value = formatCpf(input.value);
    });
  }
});

// Aplica formata√ß√£o nos inputs de telefone
['phone', 'spousePhone'].forEach(id => {
  const input = document.getElementById(id);
  if (input) {
    input.addEventListener('input', () => {
      input.value = formatPhone(input.value);
    });
  }
});
function formatDate(value) {
  let v = value.replace(/\D/g, '').slice(0, 8);
  if (v.length >= 5) {
    v = v.replace(/(\d{2})(\d{2})(\d{1,4})/, '$1/$2/$3');
  } else if (v.length >= 3) {
    v = v.replace(/(\d{2})(\d{1,2})/, '$1/$2');
  }
  return v;
}

// Aplica a m√°scara para os campos de data
['birthdate', 'spouseBirthdate', 'spousemarriagedate'].forEach(id => {
  const input = document.getElementById(id);
  if(input){
    input.addEventListener('input', () => {
      input.value = formatDate(input.value);
    });
  }
});

['cpf', 'spouseCpf', 'rg', 'spouseRg', 'phone', 'spousePhone'].forEach(id => {
  const input = document.getElementById(id);
  if(input){
    input.addEventListener('keypress', e => {
      if (!/[0-9]/.test(e.key)) {
        e.preventDefault();
      }
    });
  }
});
// Fun√ß√£o para capitalizar palavras considerando letras com acento e √ß
function capitalizeWords(str) {
  return str.replace(/\b\w+/g, function(word) {
    return word.charAt(0).toUpperCase() + word.slice(1).toLowerCase();
  });
}

// Seleciona todos inputs do tipo texto (text) e textarea (se tiver)
const textInputs = document.querySelectorAll('input[type="text"], textarea');

textInputs.forEach(input => {
  input.addEventListener('input', () => {
    const cursorPosition = input.selectionStart; // para preservar cursor
    input.value = capitalizeWords(input.value);
    input.setSelectionRange(cursorPosition, cursorPosition);
  });
});



</script>

</body>

</html>
